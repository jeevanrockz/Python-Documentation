# ðŸ“‘ Customer Segmentation & Cohort Analysis Documentation

## 1. Overview
This task extends the churn pipeline by performing **advanced customer analytics** using Pandas. 
It applies **RFM segmentation** (Recency, Frequency, Monetary) to categorize customers into behavioral groups and conducts **cohort analysis** to measure retention trends over time. 
These insights help businesses identify highâ€‘value customers, atâ€‘risk groups, and retention patterns.

---

## 2. Inputs
- **customers.csv** â†’ Customer demographics (ID, name, gender, age, region, join date).  
- **transactions.csv** â†’ Purchase history (transaction ID, customer ID, date, amount).  
- **support_tickets.csv** â†’ Customer complaints (ticket ID, customer ID, date, issue type).  

---

## 3. Outputs
- **customer_segments.csv**  
  - Contains RFM scores (Recency, Frequency, Monetary).  
  - Includes RFM segment codes (e.g., `555` = best customers, `111` = worst customers).  
  - Complaint counts merged from support tickets.  

- **cohort_analysis.csv**  
  - Retention matrix showing percentage of customers from each cohort (join month) who remain active after 1, 2, 3â€¦ months.  

- **Visualizations**  
  - Cohort retention heatmap (customer retention trends).  
  - RFM segment distribution bar chart (customer group sizes).  

---

## 4. Dependencies
- **Pandas** â†’ Data manipulation and aggregation.  
- **NumPy** â†’ Numerical operations.  
- **Matplotlib** â†’ Visualization.  
- **Seaborn** â†’ Advanced plotting (heatmaps, bar charts).  

Install with:
```bash
pip install pandas numpy matplotlib seaborn
```

---

## 5. Process Steps
1. **Load data** from CSV files.  
2. **Clean and parse dates** for transactions, join dates, and support tickets.  
3. **RFM Segmentation**  
   - Recency = Days since last purchase.  
   - Frequency = Number of purchases.  
   - Monetary = Total spend.  
   - Assign quintile scores (1â€“5) and combine into RFM segment codes.  
4. **Cohort Analysis**  
   - Define cohorts by first purchase month.  
   - Calculate retention by tracking active customers monthâ€‘overâ€‘month.  
   - Build retention matrix with Pandas pivot tables.  
5. **Support Ticket Impact**  
   - Count complaints per customer.  
   - Merge into RFM dataset for deeper insights.  
6. **Export results** to CSV files.  
7. **Visualize results** with heatmaps and bar charts.  

---

## 6. Usage Instructions
Run the script:
```bash
python segmentation_cohort.py
```

Expected output:
- `âœ… Customer segmentation and cohort analysis completed successfully!`  
- Two CSV files (`customer_segments.csv`, `cohort_analysis.csv`).  
- Visualizations displayed (heatmap + bar chart).  

---

## 7. Error Handling
- **Missing Pandas/Seaborn** â†’ Install with `pip install pandas seaborn`.  
- **Empty transactions** â†’ Ensure `transactions.csv` has valid purchase data.  
- **Date parsing errors** â†’ Invalid dates are coerced to `NaT` (handled automatically).  

---

## 8. Applications
- **Marketing** â†’ Identify loyal customers and target atâ€‘risk segments.  
- **Customer Success** â†’ Track retention trends by cohort and intervene early.  
- **Revenue Growth** â†’ Tailor promotions by RFM segment (e.g., reward `555` customers, reâ€‘engage `111` customers).  
- **Product Strategy** â†’ Understand how retention changes across cohorts to improve offerings.  

---

## 9. Future Enhancements
- Add **clustering (Kâ€‘Means)** for deeper segmentation.  
- Automate **monthly cohort reports**.  
- Integrate **visual dashboards** (Plotly, Power BI).  
- Scale to **large datasets (100k+ customers)** for enterprise use.  
